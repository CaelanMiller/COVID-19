---
title: "Contract 2"
author: "Caelan Miller, Manuel Ricardo Vargas"
date: "2023-05-22"
output: html_document
—
Objective 1 

#Attach necessary packages dplyr and leaflet

library(leaflet)
library(dplyr)


#Load the necessary global COVID-19 data from the Github forked repository URL
url <- "https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv"
download.file(url, "global_confirmations.csv")

# Load necessary data into a data frame
global_data <- read.csv("global_confirmations.csv")


#Summarize data by country/ calculate mean latitude and longitude
country_data <- global_data %>%
group_by(Country.Region, Lat, Long) %>%
summarize(Confirmations = sum(as.numeric(`2023-05-22`)), Deaths = sum(as.numeric(`2023-05-22`))) %>%
mutate(Lat = mean(Lat), Long = mean(Long))

#Using leaflet attachment, develop map based off of summarized data
map <- leaflet() %>%
addTiles() %>%
addCircleMarkers(
data = country_data,
lat = ~Lat,
lng = ~Long,
radius = sqrt(Confirmations),
color = "red",
fillOpacity = 0.7,
label = ~Country.Region,
popup = ~paste("Confirmations:", Confirmations, "<br>Deaths:", Deaths)
)
map # Display the map

—----------------------------------------------------------------------------------------------------------------------
Objective 2 

#Load knitr:
library(knitr)


#Make table and arrange data by country
top_countries <- country_data %>%
arrange(desc(Confirmations)) %>%
head(10) # Adjust the number of top countries as needed

kable(top_countries, caption = "Table of Top Countries")
